<div class="modal-properties-content">

    <div class="header-area">
        <button type="button" (click)="handleClickBack()">
            <svg width="19" height="17" viewBox="0 0 19 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M18.3739 16.4612C18.5109 16.4141 18.6297 16.3253 18.7138 16.2074C18.7978 16.0895 18.843 15.9483 18.843 15.8034C18.843 12.6253 18.2048 10.0838 16.9453 8.24864C15.4236 6.03137 13.0233 4.83752 9.80005 4.68927V1.19555C9.80003 1.05934 9.76003 0.926135 9.68501 0.812452C9.60998 0.698769 9.50323 0.609615 9.37799 0.556049C9.25276 0.502483 9.11455 0.486862 8.98052 0.511126C8.84649 0.535389 8.72253 0.598468 8.62403 0.692537L0.972281 7.99648C0.904284 8.06143 0.850159 8.13949 0.813181 8.22595C0.776203 8.3124 0.757137 8.40546 0.757137 8.49949C0.757137 8.59352 0.776203 8.68658 0.813181 8.77304C0.850159 8.85949 0.904284 8.93756 0.972281 9.00251L8.62403 16.3064C8.72253 16.4005 8.84649 16.4636 8.98052 16.4879C9.11455 16.5121 9.25276 16.4965 9.37799 16.4429C9.50323 16.3894 9.60998 16.3002 9.68501 16.1865C9.76003 16.0728 9.80003 15.9396 9.80005 15.8034V12.3354C11.7565 12.3945 13.2346 12.7114 14.4115 13.3197C15.6832 13.977 16.6053 14.9591 17.5992 16.2325C17.6883 16.3467 17.8109 16.4302 17.9498 16.4713C18.0887 16.5125 18.237 16.5093 18.3739 16.4621V16.4612Z"
                    fill="white" />
            </svg>
        </button>
        <h4> Cadastro de Aluno </h4>
    </div>

    <form [formGroup]="formAlunos">

        <div class="card-info">
            <h5 style="margin-bottom: 25px;"> {{data.title}} </h5>
            <div class="input-area">
                <div class="flex-card">
                    <div class="form-input" style="margin-bottom: 20px;">
                        <label for="nome"> Nome do Aluno </label>
                        <input name="nome" type="text" placeholder="Ex: Gabriel Morais" formControlName="nome">
                        <span class="error" *ngIf="formAlunos.get('nome')?.invalid && formAlunos.get('nome')?.touched">
                            Campo obrigatório
                        </span>
                    </div>
                    <div class="form-input" style="margin-bottom: 20px;">
                        <label for="tipoPagamento"> Tipo </label>
                        <input name="tipoPagamento" type="text" placeholder="Ex:Mensalista"
                            formControlName="tipoPagamento">
                        <span class="error"
                            *ngIf="formAlunos.get('tipoPagamento')?.invalid && formAlunos.get('tipoPagamento')?.touched">
                            Campo obrigatório
                        </span>
                    </div>
                    <div class="form-input" style="margin-bottom: 20px;">
                        <label for="endereco"> Endereço </label>
                        <input name="endereco" type="text" placeholder="Ex: Rua da Granja, 01"
                            formControlName="endereco">
                        <span class="error"
                            *ngIf="formAlunos.get('endereco')?.invalid && formAlunos.get('endereco')?.touched">
                            Campo obrigatório
                        </span>
                    </div>
                </div>

                <div class="flex-card">
                    <div class="form-input" style="margin-bottom: 20px;">
                        <label for="cpf"> CPF </label>
                        <input name="cpf" type="text" placeholder="Ex: 000.000.000-00" formControlName="cpf" mask="000.000.000-00">
                        <span class="error" *ngIf="formAlunos.get('cpf')?.invalid && formAlunos.get('cpf')?.touched">
                            Campo obrigatório
                        </span>
                    </div>
                    <div class="form-input" style="margin-bottom: 20px;">
                        <label for="email"> E-mail </label>
                        <input name="email" type="email" placeholder="Ex: aluno@email.com" formControlName="email">
                        <span class="error"
                            *ngIf="formAlunos.get('email')?.invalid && formAlunos.get('email')?.touched">
                            Campo obrigatório
                        </span>
                    </div>
                    <div class="form-input" style="margin-bottom: 20px;">
                        <label for="telefone"> Telefone </label>
                        <input name="telefone" type="text" placeholder="Ex: (77)99999-9999" formControlName="telefone" mask="(00)00000-0000">
                        <span class="error"
                            *ngIf="formAlunos.get('telefone')?.invalid && formAlunos.get('telefone')?.touched">
                            Campo obrigatório
                        </span>
                    </div>
                </div>

                <div class="flex-card">
                    <div class="form-input" style="margin-bottom: 20px;">
                        <label for="nascimento"> Data de Nascimento </label>
                        <input name="nascimento" type="date" formControlName="nascimento" [max]="getActualDate('date')">
                        <span class="error"
                            *ngIf="formAlunos.get('nascimento')?.invalid && formAlunos.get('nascimento')?.touched">
                            Campo obrigatório
                        </span>
                    </div>
                    <div class="form-input" style="margin-bottom: 20px;">
                        <label for="faltas"> Número de Faltas </label>
                        <input name="faltas" type="text" placeholder="Ex: 20" formControlName="faltas">
                        <span class="error"
                            *ngIf="formAlunos.get('faltas')?.invalid && formAlunos.get('faltas')?.touched">
                            Campo obrigatório
                        </span>
                    </div>
                    <div class="form-input" style="margin-bottom: 20px;">
                        <label for="curso"> Curso Vinculado </label>
                        <select name="curso" formControlName="cursos">
                            <option value=""> Selecionar curso </option>
                            @for (course of coursesList; track $index) {
                            <option [value]="course.nomeCurso"> {{ course.nomeCurso }} </option>
                            }
                        </select>
                        <span class="error"
                            *ngIf="formAlunos.get('cursos')?.invalid && formAlunos.get('cursos')?.touched">
                            Campo obrigatório
                        </span>
                    </div>
                </div>
            </div>

            <div class="button-area">
                <button type="button" class="button outline" (click)="handleClickBack()">Cancelar</button>
                <button type="button" class="button" (click)="submitForm()">Salvar</button>
            </div>
        </div>
    </form>

    <app-spinner *ngIf="isLoading"> </app-spinner>